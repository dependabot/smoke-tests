command: update
input:
    job:
        command: update
        package-manager: pip
        allowed-updates:
            - dependency-type: direct
              update-type: all
        ignore-conditions:
            - dependency-name: django
              source: tests/smoke-pip.yaml
              version-requirement: '>4.0.6'
        source:
            provider: github
            repo: dependabot/smoke-tests
            directory: /pip/
            commit: 832e37c1a7a4ef89feb9dc7cfa06f62205191994
    credentials:
        - host: github.com
          password: $LOCAL_GITHUB_ACCESS_TOKEN
          type: git_source
          username: x-access-token
output:
    - type: update_dependency_list
      expect:
        data:
            dependencies:
                - name: django
                  requirements:
                    - file: requirements.txt
                      groups:
                        - dependencies
                      requirement: <4.0,>=3.1
                      source: null
                  version: null
                - name: requests
                  requirements:
                    - file: requirements.txt
                      groups:
                        - dependencies
                      requirement: null
                      source: null
                  version: null
                - name: pyyaml
                  requirements:
                    - file: requirements.txt
                      groups:
                        - dependencies
                      requirement: null
                      source: null
                  version: null
                - name: pytest
                  requirements:
                    - file: requirements.txt
                      groups:
                        - dependencies
                      requirement: null
                      source: null
                  version: null
                - name: numpy
                  requirements:
                    - file: requirements.txt
                      groups:
                        - dependencies
                      requirement: ==1.23.0
                      source: null
                  version: 1.23.0
            dependency_files:
                - /pip/requirements.txt
    - type: create_pull_request
      expect:
        data:
            base-commit-sha: 832e37c1a7a4ef89feb9dc7cfa06f62205191994
            dependencies:
                - name: django
                  previous-requirements:
                    - file: requirements.txt
                      groups:
                        - dependencies
                      requirement: <4.0,>=3.1
                      source: null
                  requirements:
                    - file: requirements.txt
                      groups:
                        - dependencies
                      requirement: '>=3.1,<5.0'
                      source: null
                  version: 4.0.6
                  directory: /pip
            updated-dependency-files:
                - content: |
                    Django>=3.1,<5.0
                    requests
                    pyyaml
                    pytest
                    numpy==1.23.0
                  content_encoding: utf-8
                  deleted: false
                  directory: /pip
                  name: requirements.txt
                  operation: update
                  support_file: false
                  type: file
            pr-title: Update django requirement from <4.0,>=3.1 to >=3.1,<5.0 in /pip
            pr-body: |
                Updates the requirements on [django](https://github.com/django/django) to permit the latest version.
                <details>
                <summary>Commits</summary>
                <ul>
                <li><a href="https://github.com/django/django/commit/caad462feaa84ba78ed658a9595a4a4363dad2db"><code>caad462</code></a> [4.0.x] Bumped version for 4.0.6 release.</li>
                <li><a href="https://github.com/django/django/commit/c73215272a723b939548fe22c607a732530ce04f"><code>c732152</code></a> [4.0.x] Updated man page for Django 4.0.6.</li>
                <li><a href="https://github.com/django/django/commit/0dc9c016fadb71a067e5a42be30164e3f96c0492"><code>0dc9c01</code></a> [4.0.x] Fixed CVE-2022-34265 -- Protected Trunc(kind)/Extract(lookup_name) ag...</li>
                <li><a href="https://github.com/django/django/commit/a2b88d7be6fc9b443794518d2f75fd2f3d9e677a"><code>a2b88d7</code></a> [4.0.x] Fixed typo in docs/topics/signals.txt.</li>
                <li><a href="https://github.com/django/django/commit/2b901c1be462a12cad39af40a57a454ffe185406"><code>2b901c1</code></a> [4.0.x] Fixed GEOSTest.test_emptyCollections() on GEOS 3.8.0.</li>
                <li><a href="https://github.com/django/django/commit/4d20d2f7c2b8e74c3e85bd0716ebdcb3b35a70e6"><code>4d20d2f</code></a> [4.0.x] Fixed docs build with sphinxcontrib-spelling 7.5.0+.</li>
                <li><a href="https://github.com/django/django/commit/8a294ee2e0e30f073f764310c74899e385a302ec"><code>8a294ee</code></a> [4.0.x] Added stub release notes and release date for 4.0.6 and 3.2.14.</li>
                <li><a href="https://github.com/django/django/commit/1c28443fc92e57588fb9b37b700f97be9fde5982"><code>1c28443</code></a> [4.0.x] Fixed CoveringIndexTests.test_covering_partial_index() when DEFAULT_I...</li>
                <li><a href="https://github.com/django/django/commit/0f3b25044c34fd17b6fcde0cb53db0181f212b20"><code>0f3b250</code></a> [4.0.x] Fixed <a href="https://redirect.github.com/django/django/issues/33789">#33789</a> -- Doc'd changes in quoting table/column names on Oracle...</li>
                <li><a href="https://github.com/django/django/commit/6661c48a20d788dc76397ab4ec334b28b51db872"><code>6661c48</code></a> [4.0.x] Updated OWASP Top 10 link in security topic.</li>
                <li>Additional commits viewable in <a href="https://github.com/django/django/compare/3.1...4.0.6">compare view</a></li>
                </ul>
                </details>
                <br />
            commit-message: |-
                Update django requirement from <4.0,>=3.1 to >=3.1,<5.0 in /pip

                Updates the requirements on [django](https://github.com/django/django) to permit the latest version.
                - [Commits](https://github.com/django/django/compare/3.1...4.0.6)
    - type: create_pull_request
      expect:
        data:
            base-commit-sha: 832e37c1a7a4ef89feb9dc7cfa06f62205191994
            dependencies:
                - name: numpy
                  previous-requirements:
                    - file: requirements.txt
                      groups:
                        - dependencies
                      requirement: ==1.23.0
                      source: null
                  previous-version: 1.23.0
                  requirements:
                    - file: requirements.txt
                      groups:
                        - dependencies
                      requirement: ==2.3.3
                      source: null
                  version: 2.3.3
                  directory: /pip
            updated-dependency-files:
                - content: |
                    Django>=3.1,<4.0
                    requests
                    pyyaml
                    pytest
                    numpy==2.3.3
                  content_encoding: utf-8
                  deleted: false
                  directory: /pip
                  name: requirements.txt
                  operation: update
                  support_file: false
                  type: file
            pr-title: Bump numpy from 1.23.0 to 2.3.3 in /pip
            pr-body: |
                Bumps [numpy](https://github.com/numpy/numpy) from 1.23.0 to 2.3.3.
                <details>
                <summary>Release notes</summary>
                <p><em>Sourced from <a href="https://github.com/numpy/numpy/releases">numpy's releases</a>.</em></p>
                <blockquote>
                <h2>2.3.3 (Sep 9, 2025)</h2>
                <h1>NumPy 2.3.3 Release Notes</h1>
                <p>The NumPy 2.3.3 release is a patch release split between a number of maintenance
                updates and bug fixes. This release supports Python versions 3.11-3.14. Note
                that the 3.14.0 final is currently expected in Oct, 2025. This release is based
                on 3.14.0rc2.</p>
                <h2>Contributors</h2>
                <p>A total of 13 people contributed to this release. People with a &quot;+&quot; by their
                names contributed a patch for the first time.</p>
                <ul>
                <li>Aleksandr A. Voyt +</li>
                <li>Bernard Roesler +</li>
                <li>Charles Harris</li>
                <li>Hunter Hogan +</li>
                <li>Joren Hammudoglu</li>
                <li>Maanas Arora</li>
                <li>Matti Picus</li>
                <li>Nathan Goldbaum</li>
                <li>Raghuveer Devulapalli</li>
                <li>Sanjay Kumar Sakamuri Kamalakar +</li>
                <li>Tobias Markus +</li>
                <li>Warren Weckesser</li>
                <li>Zebreus +</li>
                </ul>
                <h2>Pull requests merged</h2>
                <p>A total of 23 pull requests were merged for this release.</p>
                <ul>
                <li><a href="https://redirect.github.com/numpy/numpy/pull/29440">#29440</a>: MAINT: Prepare 2.3.x for further development.</li>
                <li><a href="https://redirect.github.com/numpy/numpy/pull/29446">#29446</a>: BUG: Fix test_configtool_pkgconfigdir to resolve PKG_CONFIG_DIR...</li>
                <li><a href="https://redirect.github.com/numpy/numpy/pull/29447">#29447</a>: BLD: allow targeting webassembly without emscripten</li>
                <li><a href="https://redirect.github.com/numpy/numpy/pull/29460">#29460</a>: MAINT: Backport write_release.py</li>
                <li><a href="https://redirect.github.com/numpy/numpy/pull/29473">#29473</a>: MAINT: Bump pypa/cibuildwheel from 3.1.0 to 3.1.2</li>
                <li><a href="https://redirect.github.com/numpy/numpy/pull/29500">#29500</a>: BUG: Always return a real dtype from linalg.cond (<a href="https://redirect.github.com/numpy/numpy/issues/18304">gh-18304</a>) (<a href="https://redirect.github.com/numpy/numpy/issues/29333">#29333</a>)</li>
                <li><a href="https://redirect.github.com/numpy/numpy/pull/29501">#29501</a>: MAINT: Add .file entry to all .s SVML files</li>
                <li><a href="https://redirect.github.com/numpy/numpy/pull/29556">#29556</a>: BUG: Casting from one timedelta64 to another didn't handle NAT.</li>
                <li><a href="https://redirect.github.com/numpy/numpy/pull/29562">#29562</a>: BLD: update vendored Meson to 1.8.3 [wheel build]</li>
                <li><a href="https://redirect.github.com/numpy/numpy/pull/29563">#29563</a>: BUG: Fix metadata not roundtripping when pickling datetime (<a href="https://redirect.github.com/numpy/numpy/issues/29555">#29555</a>)</li>
                <li><a href="https://redirect.github.com/numpy/numpy/pull/29587">#29587</a>: TST: update link and version for Intel SDE download</li>
                <li><a href="https://redirect.github.com/numpy/numpy/pull/29593">#29593</a>: TYP: add <code>sorted</code> kwarg to <code>unique</code></li>
                <li><a href="https://redirect.github.com/numpy/numpy/pull/29672">#29672</a>: MAINT: Update pythoncapi-compat from main.</li>
                <li><a href="https://redirect.github.com/numpy/numpy/pull/29673">#29673</a>: MAINT: Update cibuildwheel.</li>
                <li><a href="https://redirect.github.com/numpy/numpy/pull/29674">#29674</a>: MAINT: Fix typo in wheels.yml</li>
                <li><a href="https://redirect.github.com/numpy/numpy/pull/29683">#29683</a>: BUG, BLD: Correct regex for ppc64 VSX3/VSX4 feature detection</li>
                <li><a href="https://redirect.github.com/numpy/numpy/pull/29684">#29684</a>: TYP: ndarray.fill() takes no keyword arguments</li>
                <li><a href="https://redirect.github.com/numpy/numpy/pull/29685">#29685</a>: BUG: avoid thread-unsafe refcount check in temp elision</li>
                <li><a href="https://redirect.github.com/numpy/numpy/pull/29687">#29687</a>: CI: replace comment-hider action in mypy_primer workflow</li>
                </ul>
                <!-- raw HTML omitted -->
                </blockquote>
                <p>... (truncated)</p>
                </details>
                <details>
                <summary>Commits</summary>
                <ul>
                <li><a href="https://github.com/numpy/numpy/commit/f2a77a76e08719556527e0819182073fe9b5f1c3"><code>f2a77a7</code></a> Merge pull request <a href="https://redirect.github.com/numpy/numpy/issues/29702">#29702</a> from charris/prepare-2.3.3</li>
                <li><a href="https://github.com/numpy/numpy/commit/8641006104c02492ced251c707c88611621db9e8"><code>8641006</code></a> REL: Prepare for the NumPy 2.3.3 release [wheel build]</li>
                <li><a href="https://github.com/numpy/numpy/commit/f024265b1aec949ab7d59a9bb82614fae0701255"><code>f024265</code></a> Merge pull request <a href="https://redirect.github.com/numpy/numpy/issues/29701">#29701</a> from charris/backport-29697</li>
                <li><a href="https://github.com/numpy/numpy/commit/84f2eedb58c4a7370e0d4865a2b11e0420cdf634"><code>84f2eed</code></a> Merge pull request <a href="https://redirect.github.com/numpy/numpy/issues/29700">#29700</a> from charris/backport-29695</li>
                <li><a href="https://github.com/numpy/numpy/commit/7cacdbf8855fd6da6a7d116bebd896b393e4f441"><code>7cacdbf</code></a> Update VXE and VXE2 detection regex patterns</li>
                <li><a href="https://github.com/numpy/numpy/commit/028c46989fee6f8dfc1192d4f71c277deae0c4f9"><code>028c469</code></a> TYP: appease ruff</li>
                <li><a href="https://github.com/numpy/numpy/commit/4b80666b63d7779e2509d0690f68a977528268a9"><code>4b80666</code></a> TYP: fix <code>np.bool</code> method declarations</li>
                <li><a href="https://github.com/numpy/numpy/commit/f2a6b75df162d9a0904b0dbc07b707020fe9d1d5"><code>f2a6b75</code></a> Merge pull request <a href="https://redirect.github.com/numpy/numpy/issues/29691">#29691</a> from charris/backport-29665</li>
                <li><a href="https://github.com/numpy/numpy/commit/a707cbf5e36c9316099f6ae471718d98a18170f5"><code>a707cbf</code></a> Merge pull request <a href="https://redirect.github.com/numpy/numpy/issues/29689">#29689</a> from charris/backport-29662</li>
                <li><a href="https://github.com/numpy/numpy/commit/3d66056fa31a89fefb632229eb21f21d63cd8964"><code>3d66056</code></a> BUG: use correct input dtype in flatiter assignment</li>
                <li>Additional commits viewable in <a href="https://github.com/numpy/numpy/compare/v1.23.0...v2.3.3">compare view</a></li>
                </ul>
                </details>
                <br />
            commit-message: |-
                Bump numpy from 1.23.0 to 2.3.3 in /pip

                Bumps [numpy](https://github.com/numpy/numpy) from 1.23.0 to 2.3.3.
                - [Release notes](https://github.com/numpy/numpy/releases)
                - [Changelog](https://github.com/numpy/numpy/blob/main/doc/RELEASE_WALKTHROUGH.rst)
                - [Commits](https://github.com/numpy/numpy/compare/v1.23.0...v2.3.3)
    - type: mark_as_processed
      expect:
        data:
            base-commit-sha: 832e37c1a7a4ef89feb9dc7cfa06f62205191994
