input:
    job:
        command: update
        package-manager: dotnet_sdk
        allowed-updates:
            - update-type: all
        dependencies:
            - dotnet-sdk
        ignore-conditions:
            - dependency-name: dotnet-sdk
              source: smoke-dotnet-sdk-security.yaml
              version-requirement: '>8.0.411'
        security-advisories:
            - dependency-name: dotnet-sdk
              affected-versions:
                - < 8.0.403
              patched-versions: []
              unaffected-versions: []
        security-updates-only: true
        source:
            provider: github
            repo: dependabot/smoke-tests
            directory: dotnet-sdk/basic
            commit: 366835275fdabbd856e7fdf91d450cc9fc81db84
    credentials:
        - host: github.com
          password: $LOCAL_GITHUB_ACCESS_TOKEN
          type: git_source
          username: x-access-token
output:
    - type: update_dependency_list
      expect:
        data:
            dependencies:
                - name: dotnet-sdk
                  requirements:
                    - file: global.json
                      groups: []
                      requirement: 8.0.300
                      source: null
                  version: 8.0.300
            dependency_files:
                - /dotnet-sdk/basic/global.json
    - type: create_pull_request
      expect:
        data:
            base-commit-sha: 366835275fdabbd856e7fdf91d450cc9fc81db84
            dependencies:
                - name: dotnet-sdk
                  previous-requirements:
                    - file: global.json
                      groups: []
                      requirement: 8.0.300
                      source: null
                  previous-version: 8.0.300
                  requirements:
                    - file: global.json
                      groups: []
                      requirement: 8.0.403
                      source: null
                  version: 8.0.403
                  directory: /dotnet-sdk/basic
            updated-dependency-files:
                - content: |
                    {
                      "sdk": {
                        "version": "8.0.403"
                      }
                    }
                  content_encoding: utf-8
                  deleted: false
                  directory: /dotnet-sdk/basic
                  name: global.json
                  operation: update
                  support_file: false
                  type: file
            pr-title: Bump dotnet-sdk from 8.0.300 to 8.0.403 in /dotnet-sdk/basic
            pr-body: |
                Bumps [dotnet-sdk](https://github.com/dotnet/sdk) from 8.0.300 to 8.0.403.
                <details>
                <summary>Release notes</summary>
                <p><em>Sourced from <a href="https://github.com/dotnet/sdk/releases">dotnet-sdk's releases</a>.</em></p>
                <blockquote>
                <h2>.NET 8.0.22</h2>
                <p><a href="https://github.com/dotnet/core/releases/tag/v8.0.22">Release</a></p>
                <h2>What's Changed</h2>
                <ul>
                <li>Update branding to 8.0.416 by <a href="https://github.com/vseanreesermsft"><code>@​vseanreesermsft</code></a> in <a href="https://redirect.github.com/dotnet/sdk/pull/51150">dotnet/sdk#51150</a></li>
                <li>[release/8.0.4xx] Update dependencies from dotnet/arcade by <a href="https://github.com/dotnet-maestro"><code>@​dotnet-maestro</code></a>[bot] in <a href="https://redirect.github.com/dotnet/sdk/pull/50449">dotnet/sdk#50449</a></li>
                <li>[release/8.0.4xx] Update dependencies from dotnet/source-build-reference-packages by <a href="https://github.com/dotnet-maestro"><code>@​dotnet-maestro</code></a>[bot] in <a href="https://redirect.github.com/dotnet/sdk/pull/50801">dotnet/sdk#50801</a></li>
                <li>[release/8.0.4xx] Update dependencies from dotnet/templating by <a href="https://github.com/dotnet-maestro"><code>@​dotnet-maestro</code></a>[bot] in <a href="https://redirect.github.com/dotnet/sdk/pull/50800">dotnet/sdk#50800</a></li>
                <li>Stop building source-build in non-1xx branches by <a href="https://github.com/NikolaMilosavljevic"><code>@​NikolaMilosavljevic</code></a> in <a href="https://redirect.github.com/dotnet/sdk/pull/50888">dotnet/sdk#50888</a></li>
                <li>Remove source-build job dependency by <a href="https://github.com/NikolaMilosavljevic"><code>@​NikolaMilosavljevic</code></a> in <a href="https://redirect.github.com/dotnet/sdk/pull/51263">dotnet/sdk#51263</a></li>
                <li>Merging internal commits for release/8.0.4xx by <a href="https://github.com/vseanreesermsft"><code>@​vseanreesermsft</code></a> in <a href="https://redirect.github.com/dotnet/sdk/pull/51244">dotnet/sdk#51244</a></li>
                <li>[release/8.0.4xx] Update dependencies from dotnet/templating by <a href="https://github.com/dotnet-maestro"><code>@​dotnet-maestro</code></a>[bot] in <a href="https://redirect.github.com/dotnet/sdk/pull/51203">dotnet/sdk#51203</a></li>
                <li>[release/8.0.4xx] Update dependencies from dotnet/arcade by <a href="https://github.com/dotnet-maestro"><code>@​dotnet-maestro</code></a>[bot] in <a href="https://redirect.github.com/dotnet/sdk/pull/51277">dotnet/sdk#51277</a></li>
                </ul>
                <p><strong>Full Changelog</strong>: <a href="https://github.com/dotnet/sdk/compare/v8.0.415...v8.0.416">https://github.com/dotnet/sdk/compare/v8.0.415...v8.0.416</a></p>
                <h2>.NET 8.0.21</h2>
                <p><a href="https://github.com/dotnet/core/releases/tag/v8.0.21">Release</a></p>
                <h2>What's Changed</h2>
                <ul>
                <li>Update branding to 8.0.415 by <a href="https://github.com/vseanreesermsft"><code>@​vseanreesermsft</code></a> in <a href="https://redirect.github.com/dotnet/sdk/pull/50585">dotnet/sdk#50585</a></li>
                <li>[release/8.0.4xx] Update dependencies from dotnet/source-build-reference-packages by <a href="https://github.com/dotnet-maestro"><code>@​dotnet-maestro</code></a>[bot] in <a href="https://redirect.github.com/dotnet/sdk/pull/50539">dotnet/sdk#50539</a></li>
                <li>[release/8.0.4xx] Update dependencies from dotnet/templating by <a href="https://github.com/dotnet-maestro"><code>@​dotnet-maestro</code></a>[bot] in <a href="https://redirect.github.com/dotnet/sdk/pull/50357">dotnet/sdk#50357</a></li>
                <li>[release/8.0.4xx] Update dependencies from dotnet/msbuild by <a href="https://github.com/dotnet-maestro"><code>@​dotnet-maestro</code></a>[bot] in <a href="https://redirect.github.com/dotnet/sdk/pull/50381">dotnet/sdk#50381</a></li>
                <li>[8.0.4xx] detect .NET 10 RID-specific tools and provide a more actionable error by <a href="https://github.com/baronfel"><code>@​baronfel</code></a> in <a href="https://redirect.github.com/dotnet/sdk/pull/50414">dotnet/sdk#50414</a></li>
                <li>Merging internal commits for release/8.0.4xx by <a href="https://github.com/vseanreesermsft"><code>@​vseanreesermsft</code></a> in <a href="https://redirect.github.com/dotnet/sdk/pull/50710">dotnet/sdk#50710</a></li>
                </ul>
                <p><strong>Full Changelog</strong>: <a href="https://github.com/dotnet/sdk/compare/v8.0.414...v8.0.415">https://github.com/dotnet/sdk/compare/v8.0.414...v8.0.415</a></p>
                <h2>.NET 8.0.20</h2>
                <p><a href="https://github.com/dotnet/core/releases/tag/v8.0.20">Release</a></p>
                <h2>What's Changed</h2>
                <ul>
                <li>[release/8.0.1xx] Update dependencies from dotnet/msbuild by <a href="https://github.com/dotnet-maestro"><code>@​dotnet-maestro</code></a>[bot] in <a href="https://redirect.github.com/dotnet/sdk/pull/49630">dotnet/sdk#49630</a></li>
                <li>[release/8.0.1xx] Update dependencies from dotnet/razor by <a href="https://github.com/dotnet-maestro"><code>@​dotnet-maestro</code></a>[bot] in <a href="https://redirect.github.com/dotnet/sdk/pull/49597">dotnet/sdk#49597</a></li>
                <li>Merging internal commits for release/8.0.3xx by <a href="https://github.com/vseanreesermsft"><code>@​vseanreesermsft</code></a> in <a href="https://redirect.github.com/dotnet/sdk/pull/49702">dotnet/sdk#49702</a></li>
                <li>Merging internal commits for release/8.0.1xx by <a href="https://github.com/vseanreesermsft"><code>@​vseanreesermsft</code></a> in <a href="https://redirect.github.com/dotnet/sdk/pull/49699">dotnet/sdk#49699</a></li>
                <li>[release/8.0.3xx] Update dependencies from dotnet/templating by <a href="https://github.com/dotnet-maestro"><code>@​dotnet-maestro</code></a>[bot] in <a href="https://redirect.github.com/dotnet/sdk/pull/49467">dotnet/sdk#49467</a></li>
                <li>[automated] Merge branch 'release/8.0.1xx' =&gt; 'release/8.0.3xx' by <a href="https://github.com/github-actions"><code>@​github-actions</code></a>[bot] in <a href="https://redirect.github.com/dotnet/sdk/pull/49708">dotnet/sdk#49708</a></li>
                <li>Update branding to 8.0.317 by <a href="https://github.com/vseanreesermsft"><code>@​vseanreesermsft</code></a> in <a href="https://redirect.github.com/dotnet/sdk/pull/50036">dotnet/sdk#50036</a></li>
                <li>Update branding to 8.0.414 by <a href="https://github.com/vseanreesermsft"><code>@​vseanreesermsft</code></a> in <a href="https://redirect.github.com/dotnet/sdk/pull/50037">dotnet/sdk#50037</a></li>
                <li>Update branding to 8.0.120 by <a href="https://github.com/vseanreesermsft"><code>@​vseanreesermsft</code></a> in <a href="https://redirect.github.com/dotnet/sdk/pull/50035">dotnet/sdk#50035</a></li>
                <li>[release/8.0.3xx] Update dependencies from dotnet/arcade by <a href="https://github.com/dotnet-maestro"><code>@​dotnet-maestro</code></a>[bot] in <a href="https://redirect.github.com/dotnet/sdk/pull/49829">dotnet/sdk#49829</a></li>
                <li>[release/8.0.1xx] Update dependencies from dotnet/templating by <a href="https://github.com/dotnet-maestro"><code>@​dotnet-maestro</code></a>[bot] in <a href="https://redirect.github.com/dotnet/sdk/pull/49837">dotnet/sdk#49837</a></li>
                <li>[release/8.0.3xx] Update dependencies from dotnet/msbuild by <a href="https://github.com/dotnet-maestro"><code>@​dotnet-maestro</code></a>[bot] in <a href="https://redirect.github.com/dotnet/sdk/pull/49888">dotnet/sdk#49888</a></li>
                <li>[release/8.0.1xx] Update dependencies from dotnet/msbuild by <a href="https://github.com/dotnet-maestro"><code>@​dotnet-maestro</code></a>[bot] in <a href="https://redirect.github.com/dotnet/sdk/pull/49874">dotnet/sdk#49874</a></li>
                <li>[release/8.0.1xx] Update dependencies from dotnet/razor by <a href="https://github.com/dotnet-maestro"><code>@​dotnet-maestro</code></a>[bot] in <a href="https://redirect.github.com/dotnet/sdk/pull/49953">dotnet/sdk#49953</a></li>
                <li>Add .NET 6.0 to EOL frameworks list by <a href="https://github.com/marcpopMSFT"><code>@​marcpopMSFT</code></a> in <a href="https://redirect.github.com/dotnet/sdk/pull/49823">dotnet/sdk#49823</a></li>
                </ul>
                <!-- raw HTML omitted -->
                </blockquote>
                <p>... (truncated)</p>
                </details>
                <details>
                <summary>Commits</summary>
                <ul>
                <li><a href="https://github.com/dotnet/sdk/commit/aaee17ef7954216c7d62f9ec4b60d51f126f7306"><code>aaee17e</code></a> Merged PR 43036: Update Roslyn in 8.0.4xx</li>
                <li><a href="https://github.com/dotnet/sdk/commit/63ae83f08cf3b8bfc8e3718d7a4492ac27836e67"><code>63ae83f</code></a> Merged PR 43027: Update format in 8.0.4xx</li>
                <li><a href="https://github.com/dotnet/sdk/commit/764f7b0446f6c1f7d8d3c154d7321eec93382bf6"><code>764f7b0</code></a> Merged PR 42960: [internal/release/8.0.4xx] Update dependencies from 3 reposi...</li>
                <li><a href="https://github.com/dotnet/sdk/commit/ef6c7df224def24e4a3abc20f3fe3fc985c6b155"><code>ef6c7df</code></a> Merged PR 42796: Update Roslyn for STJ 8.0.5</li>
                <li><a href="https://github.com/dotnet/sdk/commit/7a8f8bee196c8d916402e6729bd4eb63306d7d21"><code>7a8f8be</code></a> Merge commit 'beb3f363193c39d047be3195116901ba86a19010'</li>
                <li><a href="https://github.com/dotnet/sdk/commit/beb3f363193c39d047be3195116901ba86a19010"><code>beb3f36</code></a> [release/8.0.4xx] Fix NullReferenceException for `dotnet tool update -g --all...</li>
                <li><a href="https://github.com/dotnet/sdk/commit/ddf3716007baa505d45c40e5fb64cc19d7f62b2b"><code>ddf3716</code></a> Fix null reference exception for full global tools update.</li>
                <li><a href="https://github.com/dotnet/sdk/commit/93b5c49c13775a5fc5b04efeac0866124f1c353e"><code>93b5c49</code></a> Update Roslyn</li>
                <li><a href="https://github.com/dotnet/sdk/commit/f8d139050266d40ccb12ebaefdb7f7bdb787407a"><code>f8d1390</code></a> Merged PR 42949: Revert &quot;Merged PR 42941: [internal/release/8.0.4xx] Updated ...</li>
                <li><a href="https://github.com/dotnet/sdk/commit/4dc8d3cb7775ea82e5ad44895a72e0a6ade84466"><code>4dc8d3c</code></a> Merged PR 42941: [internal/release/8.0.4xx] Updated Version.Details.xml - dow...</li>
                <li>Additional commits viewable in <a href="https://github.com/dotnet/sdk/compare/v8.0.300...v8.0.403">compare view</a></li>
                </ul>
                </details>
                <br />
            commit-message: |-
                Bump dotnet-sdk from 8.0.300 to 8.0.403 in /dotnet-sdk/basic

                Bumps [dotnet-sdk](https://github.com/dotnet/sdk) from 8.0.300 to 8.0.403.
                - [Release notes](https://github.com/dotnet/sdk/releases)
                - [Commits](https://github.com/dotnet/sdk/compare/v8.0.300...v8.0.403)
    - type: mark_as_processed
      expect:
        data:
            base-commit-sha: 366835275fdabbd856e7fdf91d450cc9fc81db84
