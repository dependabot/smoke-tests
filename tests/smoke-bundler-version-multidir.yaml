input:
    job:
        command: update
        package-manager: bundler
        allowed-updates:
            - dependency-type: direct
              update-type: all
        dependency-groups:
            - name: bundler_pkgs
              rules:
                patterns:
                    - rack
                    - sinatra
                    - nokogiri
        ignore-conditions:
            - dependency-name: sinatra
              source: tests/smoke-bundler-version-multidir.yaml
              version-requirement: '>3.1.0'
            - dependency-name: nokogiri
              source: tests/smoke-bundler-version-multidir.yaml
              version-requirement: '>1.15.5'
            - dependency-name: nokogiri
              source: tests/smoke-bundler-version-multidir.yaml
              version-requirement: '>1.15.5'
            - dependency-name: rack
              source: tests/smoke-bundler-version-multidir.yaml
              version-requirement: '>3.2.5'
        source:
            provider: github
            repo: dependabot/smoke-tests
            directories:
                - /bundler/multi-dir/foo
                - /bundler/multi-dir/bar
            commit: cd6542cb2b99fce3a1c506446e22e32d79d1b2b7
    credentials:
        - host: github.com
          password: $LOCAL_GITHUB_ACCESS_TOKEN
          type: git_source
          username: x-access-token
output:
    - type: update_dependency_list
      expect:
        data:
            dependencies:
                - name: sinatra
                  requirements:
                    - file: Gemfile
                      groups:
                        - default
                      requirement: 1.2.2
                      source: null
                  version: 1.2.2
                - name: nokogiri
                  requirements:
                    - file: Gemfile
                      groups:
                        - default
                      requirement: "1.11"
                      source: null
                  version: 1.11.0
                - name: mini_portile2
                  requirements: []
                  version: 2.5.3
                - name: racc
                  requirements: []
                  version: 1.7.2
                - name: rack
                  requirements: []
                  version: 1.6.13
                - name: tilt
                  requirements: []
                  version: 1.4.1
                - name: rack
                  requirements:
                    - file: Gemfile
                      groups:
                        - default
                      requirement: 3.0.0
                      source: null
                  version: 3.0.0
                - name: nokogiri
                  requirements:
                    - file: Gemfile
                      groups:
                        - default
                      requirement: "1.11"
                      source: null
                  version: 1.11.0
                - name: mini_portile2
                  requirements: []
                  version: 2.5.3
                - name: racc
                  requirements: []
                  version: 1.7.2
            dependency_files:
                - /bundler/multi-dir/foo/Gemfile
                - /bundler/multi-dir/foo/Gemfile.lock
                - /bundler/multi-dir/bar/Gemfile
                - /bundler/multi-dir/bar/Gemfile.lock
    - type: create_pull_request
      expect:
        data:
            base-commit-sha: cd6542cb2b99fce3a1c506446e22e32d79d1b2b7
            dependencies:
                - name: sinatra
                  previous-requirements:
                    - file: Gemfile
                      groups:
                        - default
                      requirement: 1.2.2
                      source: null
                  previous-version: 1.2.2
                  requirements:
                    - file: Gemfile
                      groups:
                        - default
                      requirement: 3.1.0
                      source: null
                  version: 3.1.0
                  directory: /bundler/multi-dir/foo
                - name: nokogiri
                  previous-requirements:
                    - file: Gemfile
                      groups:
                        - default
                      requirement: "1.11"
                      source: null
                  previous-version: 1.11.0
                  requirements:
                    - file: Gemfile
                      groups:
                        - default
                      requirement: 1.15.5
                      source: null
                  version: 1.15.5
                  directory: /bundler/multi-dir/foo
                - name: rack
                  previous-requirements: []
                  previous-version: 1.6.13
                  requirements: []
                  version: 2.2.22
                  directory: /bundler/multi-dir/foo
                - name: nokogiri
                  previous-requirements:
                    - file: Gemfile
                      groups:
                        - default
                      requirement: "1.11"
                      source: null
                  previous-version: 1.11.0
                  requirements:
                    - file: Gemfile
                      groups:
                        - default
                      requirement: 1.15.5
                      source: null
                  version: 1.15.5
                  directory: /bundler/multi-dir/bar
                - name: rack
                  previous-requirements:
                    - file: Gemfile
                      groups:
                        - default
                      requirement: 3.0.0
                      source: null
                  previous-version: 3.0.0
                  requirements:
                    - file: Gemfile
                      groups:
                        - default
                      requirement: 3.2.5
                      source: null
                  version: 3.2.5
                  directory: /bundler/multi-dir/bar
            updated-dependency-files:
                - content: |
                    # frozen_string_literal: true

                    source 'https://rubygems.org'

                    gem 'sinatra', '3.1.0'
                    gem 'nokogiri', '1.15.5'
                  content_encoding: utf-8
                  deleted: false
                  directory: /bundler/multi-dir/foo
                  name: Gemfile
                  operation: update
                  support_file: false
                  type: file
                - content: |
                    GEM
                      remote: https://rubygems.org/
                      specs:
                        mini_portile2 (2.8.9)
                        mustermann (3.0.4)
                          ruby2_keywords (~> 0.0.1)
                        nokogiri (1.15.5)
                          mini_portile2 (~> 2.8.2)
                          racc (~> 1.4)
                        racc (1.8.1)
                        rack (2.2.22)
                        rack-protection (3.1.0)
                          rack (~> 2.2, >= 2.2.4)
                        ruby2_keywords (0.0.5)
                        sinatra (3.1.0)
                          mustermann (~> 3.0)
                          rack (~> 2.2, >= 2.2.4)
                          rack-protection (= 3.1.0)
                          tilt (~> 2.0)
                        tilt (2.7.0)

                    PLATFORMS
                      ruby

                    DEPENDENCIES
                      nokogiri (= 1.15.5)
                      sinatra (= 3.1.0)

                    BUNDLED WITH
                       2.4.18
                  content_encoding: utf-8
                  deleted: false
                  directory: /bundler/multi-dir/foo
                  name: Gemfile.lock
                  operation: update
                  support_file: false
                  type: file
                - content: |
                    # frozen_string_literal: true

                    source 'https://rubygems.org'

                    gem 'rack', '3.2.5'
                    gem 'nokogiri', '1.15.5'
                  content_encoding: utf-8
                  deleted: false
                  directory: /bundler/multi-dir/bar
                  name: Gemfile
                  operation: update
                  support_file: false
                  type: file
                - content: |
                    GEM
                      remote: https://rubygems.org/
                      specs:
                        mini_portile2 (2.8.9)
                        nokogiri (1.15.5)
                          mini_portile2 (~> 2.8.2)
                          racc (~> 1.4)
                        racc (1.8.1)
                        rack (3.2.5)

                    PLATFORMS
                      ruby

                    DEPENDENCIES
                      nokogiri (= 1.15.5)
                      rack (= 3.2.5)

                    BUNDLED WITH
                       2.4.18
                  content_encoding: utf-8
                  deleted: false
                  directory: /bundler/multi-dir/bar
                  name: Gemfile.lock
                  operation: update
                  support_file: false
                  type: file
            pr-title: Bump the bundler_pkgs group across 2 directories with 3 updates
            pr-body: "Bumps the bundler_pkgs group with 2 updates in the /bundler/multi-dir/foo directory: [sinatra](https://github.com/sinatra/sinatra) and [nokogiri](https://github.com/sparklemotion/nokogiri).\nBumps the bundler_pkgs group with 2 updates in the /bundler/multi-dir/bar directory: [nokogiri](https://github.com/sparklemotion/nokogiri) and [rack](https://github.com/rack/rack).\n\nUpdates `sinatra` from 1.2.2 to 3.1.0\n<details>\n<summary>Changelog</summary>\n<p><em>Sourced from <a href=\"https://github.com/sinatra/sinatra/blob/main/CHANGELOG.md\">sinatra's changelog</a>.</em></p>\n<blockquote>\n<h2>3.1.0 / 2023-08-07</h2>\n<ul>\n<li>\n<p>New: Add sass support via sass-embedded <a href=\"https://redirect.github.com/sinatra/sinatra/issues/1911\">#1911</a> by なつき</p>\n</li>\n<li>\n<p>New: Add start and stop callbacks <a href=\"https://redirect.github.com/sinatra/sinatra/issues/1913\">#1913</a> by Jevin Sew</p>\n</li>\n<li>\n<p>New: Warn on dropping sessions <a href=\"https://redirect.github.com/sinatra/sinatra/issues/1900\">#1900</a> by Jonathan del Strother</p>\n</li>\n<li>\n<p>New: Make Puma the default server <a href=\"https://redirect.github.com/sinatra/sinatra/issues/1924\">#1924</a> by Patrik Ragnarsson</p>\n</li>\n<li>\n<p>Fix: Remove use of Tilt::Cache <a href=\"https://redirect.github.com/sinatra/sinatra/issues/1922\">#1922</a> by Jeremy Evans (allows use of Tilt 2.2.0 without deprecation warning)</p>\n</li>\n<li>\n<p>Fix: rack-protection: specify rack version requirement <a href=\"https://redirect.github.com/sinatra/sinatra/issues/1932\">#1932</a> by Patrik Ragnarsson</p>\n</li>\n</ul>\n<p><a href=\"https://redirect.github.com/sinatra/sinatra/issues/1911\">#1911</a>: <a href=\"https://redirect.github.com/sinatra/sinatra/pull/1911\">sinatra/sinatra#1911</a>\n<a href=\"https://redirect.github.com/sinatra/sinatra/issues/1913\">#1913</a>: <a href=\"https://redirect.github.com/sinatra/sinatra/pull/1913\">sinatra/sinatra#1913</a>\n<a href=\"https://redirect.github.com/sinatra/sinatra/issues/1900\">#1900</a>: <a href=\"https://redirect.github.com/sinatra/sinatra/pull/1900\">sinatra/sinatra#1900</a>\n<a href=\"https://redirect.github.com/sinatra/sinatra/issues/1924\">#1924</a>: <a href=\"https://redirect.github.com/sinatra/sinatra/pull/1924\">sinatra/sinatra#1924</a>\n<a href=\"https://redirect.github.com/sinatra/sinatra/issues/1922\">#1922</a>: <a href=\"https://redirect.github.com/sinatra/sinatra/pull/1922\">sinatra/sinatra#1922</a>\n<a href=\"https://redirect.github.com/sinatra/sinatra/issues/1932\">#1932</a>: <a href=\"https://redirect.github.com/sinatra/sinatra/pull/1932\">sinatra/sinatra#1932</a></p>\n<h2>3.0.6 / 2023-04-11</h2>\n<ul>\n<li>\n<p>Fix: Add support to keep open streaming connections with Puma <a href=\"https://redirect.github.com/sinatra/sinatra/pull/1858\">#1858</a> by Jordan Owens</p>\n</li>\n<li>\n<p>Fix: Avoid crash in <code>uri</code> helper on Integer input <a href=\"https://redirect.github.com/sinatra/sinatra/pull/1890\">#1890</a> by Patrik Ragnarsson</p>\n</li>\n<li>\n<p>Fix: Rescue <code>RuntimeError</code> when trying to use <code>SecureRandom</code> <a href=\"https://redirect.github.com/sinatra/sinatra/pull/1888\">#1888</a> by Stefan Sundin</p>\n</li>\n</ul>\n<h2>3.0.5 / 2022-12-16</h2>\n<ul>\n<li>\n<p>Fix: Add Zeitwerk compatibility. <a href=\"https://redirect.github.com/sinatra/sinatra/pull/1831\">#1831</a> by Dawid Janczak</p>\n</li>\n<li>\n<p>Fix: Allow CALLERS_TO_IGNORE to be overridden</p>\n</li>\n</ul>\n<h2>3.0.4 / 2022-11-25</h2>\n<ul>\n<li>Fix: Escape filename in the Content-Disposition header. <a href=\"https://redirect.github.com/sinatra/sinatra/pull/1841\">#1841</a> by Kunpei Sakai</li>\n</ul>\n<h2>3.0.3 / 2022-11-11</h2>\n<ul>\n<li>Fix: fixed ReDoS for Rack::Protection::IPSpoofing. <a href=\"https://redirect.github.com/sinatra/sinatra/pull/1823\">#1823</a> by <a href=\"https://github.com/ooooooo-q\"><code>@​ooooooo-q</code></a></li>\n</ul>\n<h2>3.0.2 / 2022-10-01</h2>\n<ul>\n<li>New: Add Haml 6 support. <a href=\"https://redirect.github.com/sinatra/sinatra/pull/1820\">#1820</a> by Jordan Owens</li>\n</ul>\n<h2>3.0.1 / 2022-09-26</h2>\n<ul>\n<li>Fix: Revert removal of rack-protection.rb. <a href=\"https://redirect.github.com/sinatra/sinatra/pull/1814\">#1814</a> by Olle Jonsson</li>\n</ul>\n<!-- raw HTML omitted -->\n</blockquote>\n<p>... (truncated)</p>\n</details>\n<details>\n<summary>Commits</summary>\n<ul>\n<li><a href=\"https://github.com/sinatra/sinatra/commit/a182dcaa86affe38f1f78e5f2c96dfbffaf7597a\"><code>a182dca</code></a> 3.1.0 release (<a href=\"https://redirect.github.com/sinatra/sinatra/issues/1935\">#1935</a>)</li>\n<li><a href=\"https://github.com/sinatra/sinatra/commit/ae6bd6f4afaeb0d6fcc9400cfd4723f779cca5f0\"><code>ae6bd6f</code></a> CI: Always allow <code>notify</code> job to fail (<a href=\"https://redirect.github.com/sinatra/sinatra/issues/1934\">#1934</a>)</li>\n<li><a href=\"https://github.com/sinatra/sinatra/commit/1fc37fe594cf1acedc6886e14837dd2cba3ea704\"><code>1fc37fe</code></a> Mitigate <code>gem build</code> warning from RubyGems</li>\n<li><a href=\"https://github.com/sinatra/sinatra/commit/9c95cf922bd29673c3645d39415be3e8f9870860\"><code>9c95cf9</code></a> Have git ignore <code>*.gem</code> files</li>\n<li><a href=\"https://github.com/sinatra/sinatra/commit/7018ab74364d14bb85d52808b4096a678796e4a8\"><code>7018ab7</code></a> <code>rack-protection</code>: specify <code>rack</code> version requirement (<a href=\"https://redirect.github.com/sinatra/sinatra/issues/1932\">#1932</a>)</li>\n<li><a href=\"https://github.com/sinatra/sinatra/commit/2d6af28e645d11e8bacfaa14e0d679b88861b837\"><code>2d6af28</code></a> Warn on dropping sessions (<a href=\"https://redirect.github.com/sinatra/sinatra/issues/1900\">#1900</a>)</li>\n<li><a href=\"https://github.com/sinatra/sinatra/commit/fa6077938656e96bde008663e9911ede03d367e5\"><code>fa60779</code></a> Use <code>Minitest</code> instead of <code>MiniTest</code> (<a href=\"https://redirect.github.com/sinatra/sinatra/issues/1931\">#1931</a>)</li>\n<li><a href=\"https://github.com/sinatra/sinatra/commit/3fe6297a4bec04e279df7842fe50fb7526dea65a\"><code>3fe6297</code></a> Add start and stop callbacks (<a href=\"https://redirect.github.com/sinatra/sinatra/issues/1913\">#1913</a>)</li>\n<li><a href=\"https://github.com/sinatra/sinatra/commit/6d8f180c23383e41152c66621c722f80b443b98b\"><code>6d8f180</code></a> Make CI pass on Ruby 2.6 (<a href=\"https://redirect.github.com/sinatra/sinatra/issues/1928\">#1928</a>)</li>\n<li><a href=\"https://github.com/sinatra/sinatra/commit/5f4dde19719505989905782a61a19c545df7f9f9\"><code>5f4dde1</code></a> Add sass support via sass-embedded (<a href=\"https://redirect.github.com/sinatra/sinatra/issues/1911\">#1911</a>)</li>\n<li>Additional commits viewable in <a href=\"https://github.com/sinatra/sinatra/compare/1.2.2...v3.1.0\">compare view</a></li>\n</ul>\n</details>\n<br />\n\nUpdates `nokogiri` from 1.11.0 to 1.15.5\n<details>\n<summary>Release notes</summary>\n<p><em>Sourced from <a href=\"https://github.com/sparklemotion/nokogiri/releases\">nokogiri's releases</a>.</em></p>\n<blockquote>\n<h2>1.15.5 / 2023-11-17</h2>\n<h3>Dependencies</h3>\n<ul>\n<li>[CRuby] Vendored libxml2 is updated to v2.11.6 from v2.11.5. For details please see <a href=\"https://gitlab.gnome.org/GNOME/libxml2/-/releases/v2.11.6\">https://gitlab.gnome.org/GNOME/libxml2/-/releases/v2.11.6</a></li>\n<li>[CRuby] Vendored libxslt is updated to v1.1.39 from v1.1.38. For details please see <a href=\"https://gitlab.gnome.org/GNOME/libxslt/-/releases/v1.1.39\">https://gitlab.gnome.org/GNOME/libxslt/-/releases/v1.1.39</a></li>\n</ul>\n<hr />\n<p>sha256 checksums:</p>\n<pre><code>6dfa1d9837ddb233e234d56e244560ab1bc545d3d1744478060e18691f44ded7  nokogiri-1.15.5-aarch64-linux.gem\r\ne3ac6608c6e1714bc11ff04e29a43fedf4cac2aea1bd88256cc3b927c06f347f  nokogiri-1.15.5-arm-linux.gem\r\n4d7b15d53c0397d131376a19875aa97dd1c8b404c2c03bd2171f9b77e9592d40  nokogiri-1.15.5-arm64-darwin.gem\r\n5f87e71aaeb4f7479b94698737a0aacea77836b4805c7433b655e9565bd56cfe  nokogiri-1.15.5-java.gem\r\n7612be800909ae51e0a7cfbe1f768757857a9ff0339686814ca67d9bae271ca2  nokogiri-1.15.5-x64-mingw-ucrt.gem\r\n28fd78d98e12005fe017db5ceccb74b2497f30582e6e26a3344200625fe46aae  nokogiri-1.15.5-x64-mingw32.gem\r\n0d1b564d7f148a6766380966bb48b23afa72c72c992c69c71d21acd4a7f5c0e4  nokogiri-1.15.5-x86-linux.gem\r\nd27dbf44c19b83e570e65b660a8a921441d1e8b6063ab1b985b516f78e0a2854  nokogiri-1.15.5-x86-mingw32.gem\r\n10bafa54935f68aebd23235cb0fc7dfb8f6f5e52131379484771247eb3a0cc70  nokogiri-1.15.5-x86_64-darwin.gem\r\nc5d9453cc155dc15f08ac699cc1293fd994ec6cfacec48e67653aa95ee946adf  nokogiri-1.15.5-x86_64-linux.gem\r\n22448ca35dbcbdcec60dbe25ccf452b685a5436c28f21b2fec2e20917aba9100  nokogiri-1.15.5.gem\r\n</code></pre>\n<h2>1.15.4 / 2023-08-11</h2>\n<h3>Dependencies</h3>\n<ul>\n<li>[CRuby] Vendored libxml2 is updated to v2.11.5 from v2.11.4. For details please see <a href=\"https://gitlab.gnome.org/GNOME/libxml2/-/releases/v2.11.5\">https://gitlab.gnome.org/GNOME/libxml2/-/releases/v2.11.5</a></li>\n</ul>\n<h3>Fixed</h3>\n<ul>\n<li>Fixed a typo in a HTML5 parser error message. [<a href=\"https://redirect.github.com/sparklemotion/nokogiri/issues/2927\">#2927</a>] (Thanks, <a href=\"https://github.com/anishathalye\"><code>@​anishathalye</code></a>!)</li>\n<li>[CRuby] <code>ObjectSpace.memsize_of</code> is now safe to call on <code>Document</code>s with complex DTDs. In previous versions, this debugging method could result in a segfault. [<a href=\"https://redirect.github.com/sparklemotion/nokogiri/issues/2923\">#2923</a>, <a href=\"https://redirect.github.com/sparklemotion/nokogiri/issues/2924\">#2924</a>]</li>\n</ul>\n<hr />\n<p>sha256 checksums:</p>\n<pre><code>14091a07e07045a440213f7d5ced732fa7654ae8b6c7d180137f4124c5284ab8  nokogiri-1.15.4-aarch64-linux.gem\r\n572ddc19934d010e98821a946d89462ae66b310fecc3fe12c48b0025c2f76855  nokogiri-1.15.4-arm-linux.gem\r\n707288e293f4fc82a008f90b7ba0180d9f803f6a239a13e424378fedf8cf93e9  nokogiri-1.15.4-arm64-darwin.gem\r\n04745925f63af61144eccef38a703928629cf97c34dbb1c42e3def17ac77ec92  nokogiri-1.15.4-java.gem\r\na0bfb65461a0453afed1a41b235fe84d5b9c7f4d70afd45f0dc2fdec8909faf1  nokogiri-1.15.4-x64-mingw-ucrt.gem\r\nb9d01b9202e33cc23d19b2c1fc18ff4029cdda9b4f937a4baaefd4124a2158ba  nokogiri-1.15.4-x64-mingw32.gem\r\n&lt;/tr&gt;&lt;/table&gt; \n</code></pre>\n</blockquote>\n<p>... (truncated)</p>\n</details>\n<details>\n<summary>Changelog</summary>\n<p><em>Sourced from <a href=\"https://github.com/sparklemotion/nokogiri/blob/v1.15.5/CHANGELOG.md\">nokogiri's changelog</a>.</em></p>\n<blockquote>\n<h2>1.15.5 / 2023-11-17</h2>\n<h3>Dependencies</h3>\n<ul>\n<li>[CRuby] Vendored libxml2 is updated to v2.11.6 from v2.11.5. For details please see <a href=\"https://gitlab.gnome.org/GNOME/libxml2/-/releases/v2.11.6\">https://gitlab.gnome.org/GNOME/libxml2/-/releases/v2.11.6</a></li>\n<li>[CRuby] Vendored libxslt is updated to v1.1.39 from v1.1.38. For details please see <a href=\"https://gitlab.gnome.org/GNOME/libxslt/-/releases/v1.1.39\">https://gitlab.gnome.org/GNOME/libxslt/-/releases/v1.1.39</a></li>\n</ul>\n<h2>1.15.4 / 2023-08-11</h2>\n<h3>Dependencies</h3>\n<ul>\n<li>[CRuby] Vendored libxml2 is updated to v2.11.5 from v2.11.4. For details please see <a href=\"https://gitlab.gnome.org/GNOME/libxml2/-/releases/v2.11.5\">https://gitlab.gnome.org/GNOME/libxml2/-/releases/v2.11.5</a></li>\n</ul>\n<h3>Fixed</h3>\n<ul>\n<li>Fixed a typo in a HTML5 parser error message. [<a href=\"https://redirect.github.com/sparklemotion/nokogiri/issues/2927\">#2927</a>] (Thanks, <a href=\"https://github.com/anishathalye\"><code>@​anishathalye</code></a>!)</li>\n<li>[CRuby] <code>ObjectSpace.memsize_of</code> is now safe to call on <code>Document</code>s with complex DTDs. In previous versions, this debugging method could result in a segfault. [<a href=\"https://redirect.github.com/sparklemotion/nokogiri/issues/2923\">#2923</a>, <a href=\"https://redirect.github.com/sparklemotion/nokogiri/issues/2924\">#2924</a>]</li>\n</ul>\n<h2>1.15.3 / 2023-07-05</h2>\n<h3>Fixed</h3>\n<ul>\n<li>Passing an object that is not a kind of <code>XML::Node</code> as the first parameter to <code>CDATA.new</code> now raises a <code>TypeError</code>. Previously this would result in either a segfault (CRuby) or a Java exception (JRuby). [<a href=\"https://redirect.github.com/sparklemotion/nokogiri/issues/2920\">#2920</a>]</li>\n<li>Passing an object that is not a kind of <code>XML::Node</code> as the first parameter to <code>Schema.from_document</code> now raises a <code>TypeError</code>. Previously this would result in either a segfault (CRuby) or a Java exception (JRuby). [<a href=\"https://redirect.github.com/sparklemotion/nokogiri/issues/2920\">#2920</a>]</li>\n<li>[CRuby] Passing an object that is not a kind of <code>XML::Node</code> as the second parameter to <code>Text.new</code> now raises a <code>TypeError</code>. Previously this would result in a segfault. [<a href=\"https://redirect.github.com/sparklemotion/nokogiri/issues/2920\">#2920</a>]</li>\n<li>[CRuby] Replacing a node's children via methods like <code>Node#inner_html=</code>, <code>#children=</code>, and <code>#replace</code> no longer defensively dups the node's next sibling if it is a Text node. This behavior was originally adopted to work around libxml2's memory management (see <a href=\"https://redirect.github.com/sparklemotion/nokogiri/issues/283\">#283</a> and <a href=\"https://redirect.github.com/sparklemotion/nokogiri/issues/595\">#595</a>) but should not have included operations involving <code>xmlAddChild()</code>. [<a href=\"https://redirect.github.com/sparklemotion/nokogiri/issues/2916\">#2916</a>]</li>\n<li>[JRuby] Fixed NPE when serializing an unparented HTML node. [<a href=\"https://redirect.github.com/sparklemotion/nokogiri/issues/2559\">#2559</a>, <a href=\"https://redirect.github.com/sparklemotion/nokogiri/issues/2895\">#2895</a>] (Thanks, <a href=\"https://github.com/cbasguti\"><code>@​cbasguti</code></a>!)</li>\n</ul>\n<h2>1.15.2 / 2023-05-24</h2>\n<h3>Dependencies</h3>\n<ul>\n<li>[JRuby] Vendored org.nokogiri:nekodtd is updated to v0.1.11.noko2. This is functionally equivalent to v0.1.11.noko1 but restores support for Java 8.</li>\n</ul>\n<h3>Fixed</h3>\n<ul>\n<li>[JRuby] Java 8 support is restored, fixing a regression present in v1.14.0..v1.14.4 and v1.15.0..v1.15.1. [<a href=\"https://redirect.github.com/sparklemotion/nokogiri/issues/2887\">#2887</a>]</li>\n</ul>\n<h2>1.15.1 / 2023-05-19</h2>\n<h3>Dependencies</h3>\n<ul>\n<li>[CRuby] Vendored libxml2 is updated to v2.11.4 from v2.11.3. For details please see <a href=\"https://gitlab.gnome.org/GNOME/libxml2/-/releases/v2.11.4\">https://gitlab.gnome.org/GNOME/libxml2/-/releases/v2.11.4</a></li>\n</ul>\n<!-- raw HTML omitted -->\n</blockquote>\n<p>... (truncated)</p>\n</details>\n<details>\n<summary>Commits</summary>\n<ul>\n<li><a href=\"https://github.com/sparklemotion/nokogiri/commit/5745d4bcd937148222a612d89ad3dd26ca435726\"><code>5745d4b</code></a> version bump to v1.15.5</li>\n<li><a href=\"https://github.com/sparklemotion/nokogiri/commit/da2d908bf91fd89adfc42aaa0e66c175ca8b4c74\"><code>da2d908</code></a> ci: add ruby version to vendored libs cache key (backport) (<a href=\"https://redirect.github.com/sparklemotion/nokogiri/issues/3029\">#3029</a>)</li>\n<li><a href=\"https://github.com/sparklemotion/nokogiri/commit/0f56450e010f5944dbaad32e043ba8faf8fc43d1\"><code>0f56450</code></a> ci: add ruby version to vendored libs cache key (<a href=\"https://redirect.github.com/sparklemotion/nokogiri/issues/3028\">#3028</a>)</li>\n<li><a href=\"https://github.com/sparklemotion/nokogiri/commit/32b2c3500f509af8ed7d69877bb2868504df5710\"><code>32b2c35</code></a> dep: update libxml to 2.11.5 and libxslt to 1.1.39 (v1.15.x) (<a href=\"https://redirect.github.com/sparklemotion/nokogiri/issues/3025\">#3025</a>)</li>\n<li><a href=\"https://github.com/sparklemotion/nokogiri/commit/b8f7e16e3806862d6ddf81ec55b657b8a48cb479\"><code>b8f7e16</code></a> ci: skip the BSD builds for now</li>\n<li><a href=\"https://github.com/sparklemotion/nokogiri/commit/aa3208bc908aa69a940479b0cfb8ebe0162c8d0f\"><code>aa3208b</code></a> dep: update libxml to 2.11.5 and libxslt to 1.1.39</li>\n<li><a href=\"https://github.com/sparklemotion/nokogiri/commit/141c2aca8eb528286d85e8a62901446bc0932088\"><code>141c2ac</code></a> doc(fix): correct :nodoc:</li>\n<li><a href=\"https://github.com/sparklemotion/nokogiri/commit/1aee13d47b7257e398ab7eeb858e7c2d7528419f\"><code>1aee13d</code></a> version bump to v1.15.4</li>\n<li><a href=\"https://github.com/sparklemotion/nokogiri/commit/769faeca73448a1d47f8ebaeb1f6848dd88711f2\"><code>769faec</code></a> backport updates and fixes to v1.15.x (<a href=\"https://redirect.github.com/sparklemotion/nokogiri/issues/2953\">#2953</a>)</li>\n<li><a href=\"https://github.com/sparklemotion/nokogiri/commit/8460bfed0bbded56e4fbf9bb7982740ff05a0f78\"><code>8460bfe</code></a> dep: update libxml2 to v2.11.5</li>\n<li>Additional commits viewable in <a href=\"https://github.com/sparklemotion/nokogiri/compare/v1.11.0...v1.15.5\">compare view</a></li>\n</ul>\n</details>\n<br />\n\nUpdates `rack` from 1.6.13 to 2.2.22\n<details>\n<summary>Release notes</summary>\n<p><em>Sourced from <a href=\"https://github.com/rack/rack/releases\">rack's releases</a>.</em></p>\n<blockquote>\n<h2>v3.2.4</h2>\n<p>No release notes provided.</p>\n<h2>v3.0.9.1</h2>\n<h2>What's Changed</h2>\n<ul>\n<li>Fixed ReDoS in Accept header parsing [CVE-2024-26146]</li>\n<li>Fixed ReDoS in Content Type header parsing [CVE-2024-25126]</li>\n<li>Reject Range headers which are too large [CVE-2024-26141]</li>\n</ul>\n<p><strong>Full Changelog</strong>: <a href=\"https://github.com/rack/rack/compare/v3.0.9...v3.0.9.1\">https://github.com/rack/rack/compare/v3.0.9...v3.0.9.1</a></p>\n<h2>v3.0.9</h2>\n<h2>What's Changed</h2>\n<ul>\n<li>Fix content-length calcuation in Rack:Response#write <a href=\"https://redirect.github.com/rack/rack/issues/2150\">#2150</a></li>\n</ul>\n<p><strong>Full Changelog</strong>: <a href=\"https://github.com/rack/rack/compare/v3.0.8...v3.0.9\">https://github.com/rack/rack/compare/v3.0.8...v3.0.9</a></p>\n<h2>v3.0.8</h2>\n<h2>What's Changed</h2>\n<ul>\n<li>Backport &quot;Fix some unused variable verbose warnings&quot; by <a href=\"https://github.com/skipkayhil\"><code>@​skipkayhil</code></a> in <a href=\"https://redirect.github.com/rack/rack/pull/2084\">rack/rack#2084</a></li>\n</ul>\n<h2>New Contributors</h2>\n<ul>\n<li><a href=\"https://github.com/skipkayhil\"><code>@​skipkayhil</code></a> made their first contribution in <a href=\"https://redirect.github.com/rack/rack/pull/2084\">rack/rack#2084</a></li>\n</ul>\n<p><strong>Full Changelog</strong>: <a href=\"https://github.com/rack/rack/compare/v3.0.7...v3.0.8\">https://github.com/rack/rack/compare/v3.0.7...v3.0.8</a></p>\n<h2>v3.0.7</h2>\n<h2>What's Changed</h2>\n<ul>\n<li>Backport &quot;Make query parameters without = have nil values&quot;. by <a href=\"https://github.com/jeremyevans\"><code>@​jeremyevans</code></a> in <a href=\"https://redirect.github.com/rack/rack/pull/2060\">rack/rack#2060</a></li>\n</ul>\n<p><strong>Full Changelog</strong>: <a href=\"https://github.com/rack/rack/compare/v3.0.6.1...v3.0.7\">https://github.com/rack/rack/compare/v3.0.6.1...v3.0.7</a></p>\n<h2>v3.0.6.1</h2>\n<p>No release notes provided.</p>\n<h2>v3.0.4.1</h2>\n<p><strong>Full Changelog</strong>: <a href=\"https://github.com/rack/rack/compare/v3.0.4...v3.0.4.1\">https://github.com/rack/rack/compare/v3.0.4...v3.0.4.1</a></p>\n<h2>v3.0.4</h2>\n<p><strong>Full Changelog</strong>: <a href=\"https://github.com/rack/rack/compare/v3.0.3...v3.0.4\">https://github.com/rack/rack/compare/v3.0.3...v3.0.4</a></p>\n<h2>v3.0.3</h2>\n<h2>What's Changed</h2>\n<ul>\n<li>Release v3.0.3 by <a href=\"https://github.com/ioquatix\"><code>@​ioquatix</code></a> in <a href=\"https://redirect.github.com/rack/rack/pull/2000\">rack/rack#2000</a></li>\n</ul>\n<p><strong>Full Changelog</strong>: <a href=\"https://github.com/rack/rack/compare/v3.0.2...v3.0.3\">https://github.com/rack/rack/compare/v3.0.2...v3.0.3</a></p>\n<!-- raw HTML omitted -->\n</blockquote>\n<p>... (truncated)</p>\n</details>\n<details>\n<summary>Changelog</summary>\n<p><em>Sourced from <a href=\"https://github.com/rack/rack/blob/main/CHANGELOG.md\">rack's changelog</a>.</em></p>\n<blockquote>\n<h1>Changelog</h1>\n<p>All notable changes to this project will be documented in this file. For info on how to format all future additions to this file please reference <a href=\"https://keepachangelog.com/en/1.0.0/\">Keep A Changelog</a>.</p>\n<h2>Unreleased</h2>\n<h3>Security</h3>\n<ul>\n<li><a href=\"https://github.com/advisories/GHSA-r657-rxjc-j557\">CVE-2025-61780</a> Improper handling of headers in <code>Rack::Sendfile</code> may allow proxy bypass.</li>\n<li><a href=\"https://github.com/advisories/GHSA-6xw4-3v39-52mm\">CVE-2025-61919</a> Unbounded read in <code>Rack::Request</code> form parsing can lead to memory exhaustion.</li>\n<li><a href=\"https://github.com/advisories/GHSA-whrj-4476-wvmp\">CVE-2026-25500</a> XSS injection via malicious filename in <code>Rack::Directory</code>.</li>\n<li><a href=\"https://github.com/advisories/GHSA-mxw3-3hh2-x2mh\">CVE-2026-22860</a> Directory traversal via root prefix bypass in <code>Rack::Directory</code>.</li>\n</ul>\n<h3>SPEC Changes</h3>\n<ul>\n<li>Define <code>rack.response_finished</code> callback arguments more strictly. (<a href=\"https://redirect.github.com/rack/rack/pull/2365\">#2365</a>, <a href=\"https://github.com/skipkayhil\"><code>@​skipkayhil</code></a>)</li>\n</ul>\n<h3>Added</h3>\n<ul>\n<li>Add <code>Rack::Files#assign_headers</code> to allow overriding how the configured file headers are set. (<a href=\"https://redirect.github.com/rack/rack/pull/2377\">#2377</a>, <a href=\"https://github.com/codergeek121\"><code>@​codergeek121</code></a>)</li>\n<li>Add support for <code>rack.response_finished</code> to <code>Rack::TempfileReaper</code>. (<a href=\"https://redirect.github.com/rack/rack/pull/2363\">#2363</a>, <a href=\"https://github.com/skipkayhil\"><code>@​skipkayhil</code></a>)</li>\n<li>Add support for streaming bodies when using <code>Rack::Events</code>. (<a href=\"https://redirect.github.com/rack/rack/blob/main/redirect.github.com/rack/rack/pull/2375\">#2375</a>, <a href=\"https://github.com/unflxw\"><code>@​unflxw</code></a>)</li>\n<li>Add <code>deflaters</code> option to <code>Rack::Deflater</code> to enable custom compression algorithms like zstd. (<a href=\"https://redirect.github.com/rack/rack/issues/2168\">#2168</a>, <a href=\"https://github.com/alexanderadam\"><code>@​alexanderadam</code></a>)</li>\n<li>Add <code>Rack::Request#prefetch?</code> for identifying requests with <code>Sec-Purpose: prefetch</code> header set. (<a href=\"https://redirect.github.com/rack/rack/pull/2405\">#2405</a>, <a href=\"https://github.com/glaszig\"><code>@​glaszig</code></a>)</li>\n<li>Add <code>rack.request.trusted_proxy</code> environment key to indicate whether the request is coming from a trusted proxy.</li>\n</ul>\n<h3>Changed</h3>\n<ul>\n<li>Raise before exceeding a part limit, not after. (<a href=\"https://redirect.github.com/rack/rack/pull/2362\">#2362</a>, <a href=\"https://github.com/matthew-puku\"><code>@​matthew-puku</code></a>)</li>\n<li>Rack::Deflater now uses a fixed GZip mtime value. (<a href=\"https://redirect.github.com/rack/rack/pull/2372\">#2372</a>, <a href=\"https://github.com/bensheldon\"><code>@​bensheldon</code></a>)</li>\n<li>Multipart parser drops support for RFC 2231 <code>filename*</code> parameter (prohibited by RFC 7578) and now properly handles UTF-8 encoded filenames via percent-encoding and direct UTF-8 bytes. (<a href=\"https://redirect.github.com/rack/rack/pull/2398\">#2398</a>, <a href=\"https://github.com/wtn\"><code>@​wtn</code></a>)</li>\n<li>The query parser now raises <code>Rack::QueryParser::IncompatibleEncodingError</code> if we try to parse params that are not ASCII compatible. (<a href=\"https://redirect.github.com/rack/rack/pull/2416\">#2416</a>, <a href=\"https://github.com/bquorning\"><code>@​bquorning</code></a>)</li>\n</ul>\n<h3>Fixed</h3>\n<ul>\n<li>Multipart parser: limit MIME header size check to the unread buffer region to avoid false <code>multipart mime part header too large</code> errors when previously read data accumulates in the scan buffer. (<a href=\"https://redirect.github.com/rack/rack/pull/2392\">#2392</a>, <a href=\"https://github.com/alpaca-tc\"><code>@​alpaca-tc</code></a>, <a href=\"https://github.com/willnet\"><code>@​willnet</code></a>, <a href=\"https://github.com/krororo\"><code>@​krororo</code></a>)</li>\n<li>Fix <code>Rack::MockResponse#body</code> when the body is a Proc. (<a href=\"https://redirect.github.com/rack/rack/pull/2420\">#2420</a>, <a href=\"https://redirect.github.com/rack/rack/pull/2423\">#2423</a>, <a href=\"https://github.com/tavianator\"><code>@​tavianator</code></a>, [<a href=\"https://github.com/ioquatix\"><code>@​ioquatix</code></a>])</li>\n</ul>\n<h2>[3.2.4] - 2025-11-03</h2>\n<h3>Fixed</h3>\n<ul>\n<li>Multipart parser: limit MIME header size check to the unread buffer region to avoid false <code>multipart mime part header too large</code> errors when previously read data accumulates in the scan buffer. (<a href=\"https://redirect.github.com/rack/rack/pull/2392\">#2392</a>, <a href=\"https://github.com/alpaca-tc\"><code>@​alpaca-tc</code></a>, <a href=\"https://github.com/willnet\"><code>@​willnet</code></a>, <a href=\"https://github.com/krororo\"><code>@​krororo</code></a>)</li>\n</ul>\n<h2>[3.2.3] - 2025-10-10</h2>\n<h3>Security</h3>\n<ul>\n<li><a href=\"https://github.com/advisories/GHSA-r657-rxjc-j557\">CVE-2025-61780</a> Improper handling of headers in <code>Rack::Sendfile</code> may allow proxy bypass.</li>\n<li><a href=\"https://github.com/advisories/GHSA-6xw4-3v39-52mm\">CVE-2025-61919</a> Unbounded read in <code>Rack::Request</code> form parsing can lead to memory exhaustion.</li>\n</ul>\n<!-- raw HTML omitted -->\n</blockquote>\n<p>... (truncated)</p>\n</details>\n<details>\n<summary>Commits</summary>\n<ul>\n<li><a href=\"https://github.com/rack/rack/commit/bb5f3555bd12b9065112353e829298b3b5623ceb\"><code>bb5f355</code></a> Bump patch version.</li>\n<li><a href=\"https://github.com/rack/rack/commit/f9bde3bc2dde2771185ac1a7b7602a4d9fa0a0d8\"><code>f9bde3b</code></a> Prevent directory traversal via root prefix bypass.</li>\n<li><a href=\"https://github.com/rack/rack/commit/93a68f58aa82aa48f09b751501f19f5e760dd406\"><code>93a68f5</code></a> XSS injection via malicious filename in <code>Rack::Directory</code>.</li>\n<li><a href=\"https://github.com/rack/rack/commit/3b8b0d22d68a7fb30fdea40f838d0f95a05c134d\"><code>3b8b0d2</code></a> Fix MockResponse#body when the body is a Proc (<a href=\"https://redirect.github.com/rack/rack/issues/2420\">#2420</a>)</li>\n<li><a href=\"https://github.com/rack/rack/commit/4c24539777db8833d78f881680cd245878cfba31\"><code>4c24539</code></a> Bump patch version.</li>\n<li><a href=\"https://github.com/rack/rack/commit/3ba5e4f22f55abac21037bb137e56e5c8e36b673\"><code>3ba5e4f</code></a> Allow Multipart head to span read boundary. (<a href=\"https://redirect.github.com/rack/rack/issues/2392\">#2392</a>)</li>\n<li><a href=\"https://github.com/rack/rack/commit/32bf8887d00bd86494f0ce08c46cda59a65d332f\"><code>32bf888</code></a> Bump patch version.</li>\n<li><a href=\"https://github.com/rack/rack/commit/e179614c4a653283286f5f046428cbb85f21146f\"><code>e179614</code></a> Unbounded read in <code>Rack::Request</code> form parsing can lead to memory exhaustion.</li>\n<li><a href=\"https://github.com/rack/rack/commit/57277b7741581fa827472c5c666f6e6a33abd784\"><code>57277b7</code></a> Improper handling of proxy headers in <code>Rack::Sendfile</code> may allow proxy bypass.</li>\n<li><a href=\"https://github.com/rack/rack/commit/403b74b2441d666845177ce769036e294f663712\"><code>403b74b</code></a> Normalize adivsories links.</li>\n<li>Additional commits viewable in <a href=\"https://github.com/rack/rack/compare/3.0.0...v3.2.5\">compare view</a></li>\n</ul>\n</details>\n<br />\n\nUpdates `nokogiri` from 1.11.0 to 1.15.5\n<details>\n<summary>Release notes</summary>\n<p><em>Sourced from <a href=\"https://github.com/sparklemotion/nokogiri/releases\">nokogiri's releases</a>.</em></p>\n<blockquote>\n<h2>1.15.5 / 2023-11-17</h2>\n<h3>Dependencies</h3>\n<ul>\n<li>[CRuby] Vendored libxml2 is updated to v2.11.6 from v2.11.5. For details please see <a href=\"https://gitlab.gnome.org/GNOME/libxml2/-/releases/v2.11.6\">https://gitlab.gnome.org/GNOME/libxml2/-/releases/v2.11.6</a></li>\n<li>[CRuby] Vendored libxslt is updated to v1.1.39 from v1.1.38. For details please see <a href=\"https://gitlab.gnome.org/GNOME/libxslt/-/releases/v1.1.39\">https://gitlab.gnome.org/GNOME/libxslt/-/releases/v1.1.39</a></li>\n</ul>\n<hr />\n<p>sha256 checksums:</p>\n<pre><code>6dfa1d9837ddb233e234d56e244560ab1bc545d3d1744478060e18691f44ded7  nokogiri-1.15.5-aarch64-linux.gem\r\ne3ac6608c6e1714bc11ff04e29a43fedf4cac2aea1bd88256cc3b927c06f347f  nokogiri-1.15.5-arm-linux.gem\r\n4d7b15d53c0397d131376a19875aa97dd1c8b404c2c03bd2171f9b77e9592d40  nokogiri-1.15.5-arm64-darwin.gem\r\n5f87e71aaeb4f7479b94698737a0aacea77836b4805c7433b655e9565bd56cfe  nokogiri-1.15.5-java.gem\r\n7612be800909ae51e0a7cfbe1f768757857a9ff0339686814ca67d9bae271ca2  nokogiri-1.15.5-x64-mingw-ucrt.gem\r\n28fd78d98e12005fe017db5ceccb74b2497f30582e6e26a3344200625fe46aae  nokogiri-1.15.5-x64-mingw32.gem\r\n0d1b564d7f148a6766380966bb48b23afa72c72c992c69c71d21acd4a7f5c0e4  nokogiri-1.15.5-x86-linux.gem\r\nd27dbf44c19b83e570e65b660a8a921441d1e8b6063ab1b985b516f78e0a2854  nokogiri-1.15.5-x86-mingw32.gem\r\n10bafa54935f68aebd23235cb0fc7dfb8f6f5e52131379484771247eb3a0cc70  nokogiri-1.15.5-x86_64-darwin.gem\r\nc5d9453cc155dc15f08ac699cc1293fd994ec6cfacec48e67653aa95ee946adf  nokogiri-1.15.5-x86_64-linux.gem\r\n22448ca35dbcbdcec60dbe25ccf452b685a5436c28f21b2fec2e20917aba9100  nokogiri-1.15.5.gem\r\n</code></pre>\n<h2>1.15.4 / 2023-08-11</h2>\n<h3>Dependencies</h3>\n<ul>\n<li>[CRuby] Vendored libxml2 is updated to v2.11.5 from v2.11.4. For details please see <a href=\"https://gitlab.gnome.org/GNOME/libxml2/-/releases/v2.11.5\">https://gitlab.gnome.org/GNOME/libxml2/-/releases/v2.11.5</a></li>\n</ul>\n<h3>Fixed</h3>\n<ul>\n<li>Fixed a typo in a HTML5 parser error message. [<a href=\"https://redirect.github.com/sparklemotion/nokogiri/issues/2927\">#2927</a>] (Thanks, <a href=\"https://github.com/anishathalye\"><code>@​anishathalye</code></a>!)</li>\n<li>[CRuby] <code>ObjectSpace.memsize_of</code> is now safe to call on <code>Document</code>s with complex DTDs. In previous versions, this debugging method could result in a segfault. [<a href=\"https://redirect.github.com/sparklemotion/nokogiri/issues/2923\">#2923</a>, <a href=\"https://redirect.github.com/sparklemotion/nokogiri/issues/2924\">#2924</a>]</li>\n</ul>\n<hr />\n<p>sha256 checksums:</p>\n<pre><code>14091a07e07045a440213f7d5ced732fa7654ae8b6c7d180137f4124c5284ab8  nokogiri-1.15.4-aarch64-linux.gem\r\n572ddc19934d010e98821a946d89462ae66b310fecc3fe12c48b0025c2f76855  nokogiri-1.15.4-arm-linux.gem\r\n707288e293f4fc82a008f90b7ba0180d9f803f6a239a13e424378fedf8cf93e9  nokogiri-1.15.4-arm64-darwin.gem\r\n04745925f63af61144eccef38a703928629cf97c34dbb1c42e3def17ac77ec92  nokogiri-1.15.4-java.gem\r\na0bfb65461a0453afed1a41b235fe84d5b9c7f4d70afd45f0dc2fdec8909faf1  nokogiri-1.15.4-x64-mingw-ucrt.gem\r\nb9d01b9202e33cc23d19b2c1fc18ff4029cdda9b4f937a4baaefd4124a2158ba  nokogiri-1.15.4-x64-mingw32.gem\r\n&lt;/tr&gt;&lt;/table&gt; \n</code></pre>\n</blockquote>\n<p>... (truncated)</p>\n</details>\n<details>\n<summary>Changelog</summary>\n<p><em>Sourced from <a href=\"https://github.com/sparklemotion/nokogiri/blob/v1.15.5/CHANGELOG.md\">nokogiri's changelog</a>.</em></p>\n<blockquote>\n<h2>1.15.5 / 2023-11-17</h2>\n<h3>Dependencies</h3>\n<ul>\n<li>[CRuby] Vendored libxml2 is updated to v2.11.6 from v2.11.5. For details please see <a href=\"https://gitlab.gnome.org/GNOME/libxml2/-/releases/v2.11.6\">https://gitlab.gnome.org/GNOME/libxml2/-/releases/v2.11.6</a></li>\n<li>[CRuby] Vendored libxslt is updated to v1.1.39 from v1.1.38. For details please see <a href=\"https://gitlab.gnome.org/GNOME/libxslt/-/releases/v1.1.39\">https://gitlab.gnome.org/GNOME/libxslt/-/releases/v1.1.39</a></li>\n</ul>\n<h2>1.15.4 / 2023-08-11</h2>\n<h3>Dependencies</h3>\n<ul>\n<li>[CRuby] Vendored libxml2 is updated to v2.11.5 from v2.11.4. For details please see <a href=\"https://gitlab.gnome.org/GNOME/libxml2/-/releases/v2.11.5\">https://gitlab.gnome.org/GNOME/libxml2/-/releases/v2.11.5</a></li>\n</ul>\n<h3>Fixed</h3>\n<ul>\n<li>Fixed a typo in a HTML5 parser error message. [<a href=\"https://redirect.github.com/sparklemotion/nokogiri/issues/2927\">#2927</a>] (Thanks, <a href=\"https://github.com/anishathalye\"><code>@​anishathalye</code></a>!)</li>\n<li>[CRuby] <code>ObjectSpace.memsize_of</code> is now safe to call on <code>Document</code>s with complex DTDs. In previous versions, this debugging method could result in a segfault. [<a href=\"https://redirect.github.com/sparklemotion/nokogiri/issues/2923\">#2923</a>, <a href=\"https://redirect.github.com/sparklemotion/nokogiri/issues/2924\">#2924</a>]</li>\n</ul>\n<h2>1.15.3 / 2023-07-05</h2>\n<h3>Fixed</h3>\n<ul>\n<li>Passing an object that is not a kind of <code>XML::Node</code> as the first parameter to <code>CDATA.new</code> now raises a <code>TypeError</code>. Previously this would result in either a segfault (CRuby) or a Java exception (JRuby). [<a href=\"https://redirect.github.com/sparklemotion/nokogiri/issues/2920\">#2920</a>]</li>\n<li>Passing an object that is not a kind of <code>XML::Node</code> as the first parameter to <code>Schema.from_document</code> now raises a <code>TypeError</code>. Previously this would result in either a segfault (CRuby) or a Java exception (JRuby). [<a href=\"https://redirect.github.com/sparklemotion/nokogiri/issues/2920\">#2920</a>]</li>\n<li>[CRuby] Passing an object that is not a kind of <code>XML::Node</code> as the second parameter to <code>Text.new</code> now raises a <code>TypeError</code>. Previously this would result in a segfault. [<a href=\"https://redirect.github.com/sparklemotion/nokogiri/issues/2920\">#2920</a>]</li>\n<li>[CRuby] Replacing a node's children via methods like <code>Node#inner_html=</code>, <code>#children=</code>, and <code>#replace</code> no longer defensively dups the node's next sibling if it is a Text node. This behavior was originally adopted to work around libxml2's memory management (see <a href=\"https://redirect.github.com/sparklemotion/nokogiri/issues/283\">#283</a> and <a href=\"https://redirect.github.com/sparklemotion/nokogiri/issues/595\">#595</a>) but should not have included operations involving <code>xmlAddChild()</code>. [<a href=\"https://redirect.github.com/sparklemotion/nokogiri/issues/2916\">#2916</a>]</li>\n<li>[JRuby] Fixed NPE when serializing an unparented HTML node. [<a href=\"https://redirect.github.com/sparklemotion/nokogiri/issues/2559\">#2559</a>, <a href=\"https://redirect.github.com/sparklemotion/nokogiri/issues/2895\">#2895</a>] (Thanks, <a href=\"https://github.com/cbasguti\"><code>@​cbasguti</code></a>!)</li>\n</ul>\n<h2>1.15.2 / 2023-05-24</h2>\n<h3>Dependencies</h3>\n<ul>\n<li>[JRuby] Vendored org.nokogiri:nekodtd is updated to v0.1.11.noko2. This is functionally equivalent to v0.1.11.noko1 but restores support for Java 8.</li>\n</ul>\n<h3>Fixed</h3>\n<ul>\n<li>[JRuby] Java 8 support is restored, fixing a regression present in v1.14.0..v1.14.4 and v1.15.0..v1.15.1. [<a href=\"https://redirect.github.com/sparklemotion/nokogiri/issues/2887\">#2887</a>]</li>\n</ul>\n<h2>1.15.1 / 2023-05-19</h2>\n<h3>Dependencies</h3>\n<ul>\n<li>[CRuby] Vendored libxml2 is updated to v2.11.4 from v2.11.3. For details please see <a href=\"https://gitlab.gnome.org/GNOME/libxml2/-/releases/v2.11.4\">https://gitlab.gnome.org/GNOME/libxml2/-/releases/v2.11.4</a></li>\n</ul>\n<!-- raw HTML omitted -->\n</blockquote>\n<p>... (truncated)</p>\n</details>\n<details>\n<summary>Commits</summary>\n<ul>\n<li><a href=\"https://github.com/sparklemotion/nokogiri/commit/5745d4bcd937148222a612d89ad3dd26ca435726\"><code>5745d4b</code></a> version bump to v1.15.5</li>\n<li><a href=\"https://github.com/sparklemotion/nokogiri/commit/da2d908bf91fd89adfc42aaa0e66c175ca8b4c74\"><code>da2d908</code></a> ci: add ruby version to vendored libs cache key (backport) (<a href=\"https://redirect.github.com/sparklemotion/nokogiri/issues/3029\">#3029</a>)</li>\n<li><a href=\"https://github.com/sparklemotion/nokogiri/commit/0f56450e010f5944dbaad32e043ba8faf8fc43d1\"><code>0f56450</code></a> ci: add ruby version to vendored libs cache key (<a href=\"https://redirect.github.com/sparklemotion/nokogiri/issues/3028\">#3028</a>)</li>\n<li><a href=\"https://github.com/sparklemotion/nokogiri/commit/32b2c3500f509af8ed7d69877bb2868504df5710\"><code>32b2c35</code></a> dep: update libxml to 2.11.5 and libxslt to 1.1.39 (v1.15.x) (<a href=\"https://redirect.github.com/sparklemotion/nokogiri/issues/3025\">#3025</a>)</li>\n<li><a href=\"https://github.com/sparklemotion/nokogiri/commit/b8f7e16e3806862d6ddf81ec55b657b8a48cb479\"><code>b8f7e16</code></a> ci: skip the BSD builds for now</li>\n<li><a href=\"https://github.com/sparklemotion/nokogiri/commit/aa3208bc908aa69a940479b0cfb8ebe0162c8d0f\"><code>aa3208b</code></a> dep: update libxml to 2.11.5 and libxslt to 1.1.39</li>\n<li><a href=\"https://github.com/sparklemotion/nokogiri/commit/141c2aca8eb528286d85e8a62901446bc0932088\"><code>141c2ac</code></a> doc(fix): correct :nodoc:</li>\n<li><a href=\"https://github.com/sparklemotion/nokogiri/commit/1aee13d47b7257e398ab7eeb858e7c2d7528419f\"><code>1aee13d</code></a> version bump to v1.15.4</li>\n<li><a href=\"https://github.com/sparklemotion/nokogiri/commit/769faeca73448a1d47f8ebaeb1f6848dd88711f2\"><code>769faec</code></a> backport updates and fixes to v1.15.x (<a href=\"https://redirect.github.com/sparklemotion/nokogiri/issues/2953\">#2953</a>)</li>\n<li><a href=\"https://github.com/sparklemotion/nokogiri/commit/8460bfed0bbded56e4fbf9bb7982740ff05a0f78\"><code>8460bfe</code></a> dep: update libxml2 to v2.11.5</li>\n<li>Additional commits viewable in <a href=\"https://github.com/sparklemotion/nokogiri/compare/v1.11.0...v1.15.5\">compare view</a></li>\n</ul>\n</details>\n<br />\n\nUpdates `rack` from 3.0.0 to 3.2.5\n<details>\n<summary>Release notes</summary>\n<p><em>Sourced from <a href=\"https://github.com/rack/rack/releases\">rack's releases</a>.</em></p>\n<blockquote>\n<h2>v3.2.4</h2>\n<p>No release notes provided.</p>\n<h2>v3.0.9.1</h2>\n<h2>What's Changed</h2>\n<ul>\n<li>Fixed ReDoS in Accept header parsing [CVE-2024-26146]</li>\n<li>Fixed ReDoS in Content Type header parsing [CVE-2024-25126]</li>\n<li>Reject Range headers which are too large [CVE-2024-26141]</li>\n</ul>\n<p><strong>Full Changelog</strong>: <a href=\"https://github.com/rack/rack/compare/v3.0.9...v3.0.9.1\">https://github.com/rack/rack/compare/v3.0.9...v3.0.9.1</a></p>\n<h2>v3.0.9</h2>\n<h2>What's Changed</h2>\n<ul>\n<li>Fix content-length calcuation in Rack:Response#write <a href=\"https://redirect.github.com/rack/rack/issues/2150\">#2150</a></li>\n</ul>\n<p><strong>Full Changelog</strong>: <a href=\"https://github.com/rack/rack/compare/v3.0.8...v3.0.9\">https://github.com/rack/rack/compare/v3.0.8...v3.0.9</a></p>\n<h2>v3.0.8</h2>\n<h2>What's Changed</h2>\n<ul>\n<li>Backport &quot;Fix some unused variable verbose warnings&quot; by <a href=\"https://github.com/skipkayhil\"><code>@​skipkayhil</code></a> in <a href=\"https://redirect.github.com/rack/rack/pull/2084\">rack/rack#2084</a></li>\n</ul>\n<h2>New Contributors</h2>\n<ul>\n<li><a href=\"https://github.com/skipkayhil\"><code>@​skipkayhil</code></a> made their first contribution in <a href=\"https://redirect.github.com/rack/rack/pull/2084\">rack/rack#2084</a></li>\n</ul>\n<p><strong>Full Changelog</strong>: <a href=\"https://github.com/rack/rack/compare/v3.0.7...v3.0.8\">https://github.com/rack/rack/compare/v3.0.7...v3.0.8</a></p>\n<h2>v3.0.7</h2>\n<h2>What's Changed</h2>\n<ul>\n<li>Backport &quot;Make query parameters without = have nil values&quot;. by <a href=\"https://github.com/jeremyevans\"><code>@​jeremyevans</code></a> in <a href=\"https://redirect.github.com/rack/rack/pull/2060\">rack/rack#2060</a></li>\n</ul>\n<p><strong>Full Changelog</strong>: <a href=\"https://github.com/rack/rack/compare/v3.0.6.1...v3.0.7\">https://github.com/rack/rack/compare/v3.0.6.1...v3.0.7</a></p>\n<h2>v3.0.6.1</h2>\n<p>No release notes provided.</p>\n<h2>v3.0.4.1</h2>\n<p><strong>Full Changelog</strong>: <a href=\"https://github.com/rack/rack/compare/v3.0.4...v3.0.4.1\">https://github.com/rack/rack/compare/v3.0.4...v3.0.4.1</a></p>\n<h2>v3.0.4</h2>\n<p><strong>Full Changelog</strong>: <a href=\"https://github.com/rack/rack/compare/v3.0.3...v3.0.4\">https://github.com/rack/rack/compare/v3.0.3...v3.0.4</a></p>\n<h2>v3.0.3</h2>\n<h2>What's Changed</h2>\n<ul>\n<li>Release v3.0.3 by <a href=\"https://github.com/ioquatix\"><code>@​ioquatix</code></a> in <a href=\"https://redirect.github.com/rack/rack/pull/2000\">rack/rack#2000</a></li>\n</ul>\n<p><strong>Full Changelog</strong>: <a href=\"https://github.com/rack/rack/compare/v3.0.2...v3.0.3\">https://github.com/rack/rack/compare/v3.0.2...v3.0.3</a></p>\n<!-- raw HTML omitted -->\n</blockquote>\n<p>... (truncated)</p>\n</details>\n<details>\n<summary>Changelog</summary>\n<p><em>Sourced from <a href=\"https://github.com/rack/rack/blob/main/CHANGELOG.md\">rack's changelog</a>.</em></p>\n<blockquote>\n<h1>Changelog</h1>\n<p>All notable changes to this project will be documented in this file. For info on how to format all future additions to this file please reference <a href=\"https://keepachangelog.com/en/1.0.0/\">Keep A Changelog</a>.</p>\n<h2>Unreleased</h2>\n<h3>Security</h3>\n<ul>\n<li><a href=\"https://github.com/advisories/GHSA-r657-rxjc-j557\">CVE-2025-61780</a> Improper handling of headers in <code>Rack::Sendfile</code> may allow proxy bypass.</li>\n<li><a href=\"https://github.com/advisories/GHSA-6xw4-3v39-52mm\">CVE-2025-61919</a> Unbounded read in <code>Rack::Request</code> form parsing can lead to memory exhaustion.</li>\n<li><a href=\"https://github.com/advisories/GHSA-whrj-4476-wvmp\">CVE-2026-25500</a> XSS injection via malicious filename in <code>Rack::Directory</code>.</li>\n<li><a href=\"https://github.com/advisories/GHSA-mxw3-3hh2-x2mh\">CVE-2026-22860</a> Directory traversal via root prefix bypass in <code>Rack::Directory</code>.</li>\n</ul>\n<h3>SPEC Changes</h3>\n<ul>\n<li>Define <code>rack.response_finished</code> callback arguments more strictly. (<a href=\"https://redirect.github.com/rack/rack/pull/2365\">#2365</a>, <a href=\"https://github.com/skipkayhil\"><code>@​skipkayhil</code></a>)</li>\n</ul>\n<h3>Added</h3>\n<ul>\n<li>Add <code>Rack::Files#assign_headers</code> to allow overriding how the configured file headers are set. (<a href=\"https://redirect.github.com/rack/rack/pull/2377\">#2377</a>, <a href=\"https://github.com/codergeek121\"><code>@​codergeek121</code></a>)</li>\n<li>Add support for <code>rack.response_finished</code> to <code>Rack::TempfileReaper</code>. (<a href=\"https://redirect.github.com/rack/rack/pull/2363\">#2363</a>, <a href=\"https://github.com/skipkayhil\"><code>@​skipkayhil</code></a>)</li>\n<li>Add support for streaming bodies when using <code>Rack::Events</code>. (<a href=\"https://redirect.github.com/rack/rack/blob/main/redirect.github.com/rack/rack/pull/2375\">#2375</a>, <a href=\"https://github.com/unflxw\"><code>@​unflxw</code></a>)</li>\n<li>Add <code>deflaters</code> option to <code>Rack::Deflater</code> to enable custom compression algorithms like zstd. (<a href=\"https://redirect.github.com/rack/rack/issues/2168\">#2168</a>, <a href=\"https://github.com/alexanderadam\"><code>@​alexanderadam</code></a>)</li>\n<li>Add <code>Rack::Request#prefetch?</code> for identifying requests with <code>Sec-Purpose: prefetch</code> header set. (<a href=\"https://redirect.github.com/rack/rack/pull/2405\">#2405</a>, <a href=\"https://github.com/glaszig\"><code>@​glaszig</code></a>)</li>\n<li>Add <code>rack.request.trusted_proxy</code> environment key to indicate whether the request is coming from a trusted proxy.</li>\n</ul>\n<h3>Changed</h3>\n<ul>\n<li>Raise before exceeding a part limit, not after. (<a href=\"https://redirect.github.com/rack/rack/pull/2362\">#2362</a>, <a href=\"https://github.com/matthew-puku\"><code>@​matthew-puku</code></a>)</li>\n<li>Rack::Deflater now uses a fixed GZip mtime value. (<a href=\"https://redirect.github.com/rack/rack/pull/2372\">#2372</a>, <a href=\"https://github.com/bensheldon\"><code>@​bensheldon</code></a>)</li>\n<li>Multipart parser drops support for RFC 2231 <code>filename*</code> parameter (prohibited by RFC 7578) and now properly handles UTF-8 encoded filenames via percent-encoding and direct UTF-8 bytes. (<a href=\"https://redirect.github.com/rack/rack/pull/2398\">#2398</a>, <a href=\"https://github.com/wtn\"><code>@​wtn</code></a>)</li>\n<li>The query parser now raises <code>Rack::QueryParser::IncompatibleEncodingError</code> if we try to parse params that are not ASCII compatible. (<a href=\"https://redirect.github.com/rack/rack/pull/2416\">#2416</a>, <a href=\"https://github.com/bquorning\"><code>@​bquorning</code></a>)</li>\n</ul>\n<h3>Fixed</h3>\n<ul>\n<li>Multipart parser: limit MIME header size check to the unread buffer region to avoid false <code>multipart mime part header too large</code> errors when previously read data accumulates in the scan buffer. (<a href=\"https://redirect.github.com/rack/rack/pull/2392\">#2392</a>, <a href=\"https://github.com/alpaca-tc\"><code>@​alpaca-tc</code></a>, <a href=\"https://github.com/willnet\"><code>@​willnet</code></a>, <a href=\"https://github.com/krororo\"><code>@​krororo</code></a>)</li>\n<li>Fix <code>Rack::MockResponse#body</code> when the body is a Proc. (<a href=\"https://redirect.github.com/rack/rack/pull/2420\">#2420</a>, <a href=\"https://redirect.github.com/rack/rack/pull/2423\">#2423</a>, <a href=\"https://github.com/tavianator\"><code>@​tavianator</code></a>, [<a href=\"https://github.com/ioquatix\"><code>@​ioquatix</code></a>])</li>\n</ul>\n<h2>[3.2.4] - 2025-11-03</h2>\n<h3>Fixed</h3>\n<ul>\n<li>Multipart parser: limit MIME header size check to the unread buffer region to avoid false <code>multipart mime part header too large</code> errors when previously read data accumulates in the scan buffer. (<a href=\"https://redirect.github.com/rack/rack/pull/2392\">#2392</a>, <a href=\"https://github.com/alpaca-tc\"><code>@​alpaca-tc</code></a>, <a href=\"https://github.com/willnet\"><code>@​willnet</code></a>, <a href=\"https://github.com/krororo\"><code>@​krororo</code></a>)</li>\n</ul>\n<h2>[3.2.3] - 2025-10-10</h2>\n<h3>Security</h3>\n<ul>\n<li><a href=\"https://github.com/advisories/GHSA-r657-rxjc-j557\">CVE-2025-61780</a> Improper handling of headers in <code>Rack::Sendfile</code> may allow proxy bypass.</li>\n<li><a href=\"https://github.com/advisories/GHSA-6xw4-3v39-52mm\">CVE-2025-61919</a> Unbounded read in <code>Rack::Request</code> form parsing can lead to memory exhaustion.</li>\n</ul>\n<!-- raw HTML omitted -->\n</blockquote>\n<p>... (truncated)</p>\n</details>\n<details>\n<summary>Commits</summary>\n<ul>\n<li><a href=\"https://github.com/rack/rack/commit/bb5f3555bd12b9065112353e829298b3b5623ceb\"><code>bb5f355</code></a> Bump patch version.</li>\n<li><a href=\"https://github.com/rack/rack/commit/f9bde3bc2dde2771185ac1a7b7602a4d9fa0a0d8\"><code>f9bde3b</code></a> Prevent directory traversal via root prefix bypass.</li>\n<li><a href=\"https://github.com/rack/rack/commit/93a68f58aa82aa48f09b751501f19f5e760dd406\"><code>93a68f5</code></a> XSS injection via malicious filename in <code>Rack::Directory</code>.</li>\n<li><a href=\"https://github.com/rack/rack/commit/3b8b0d22d68a7fb30fdea40f838d0f95a05c134d\"><code>3b8b0d2</code></a> Fix MockResponse#body when the body is a Proc (<a href=\"https://redirect.github.com/rack/rack/issues/2420\">#2420</a>)</li>\n<li><a href=\"https://github.com/rack/rack/commit/4c24539777db8833d78f881680cd245878cfba31\"><code>4c24539</code></a> Bump patch version.</li>\n<li><a href=\"https://github.com/rack/rack/commit/3ba5e4f22f55abac21037bb137e56e5c8e36b673\"><code>3ba5e4f</code></a> Allow Multipart head to span read boundary. (<a href=\"https://redirect.github.com/rack/rack/issues/2392\">#2392</a>)</li>\n<li><a href=\"https://github.com/rack/rack/commit/32bf8887d00bd86494f0ce08c46cda59a65d332f\"><code>32bf888</code></a> Bump patch version.</li>\n<li><a href=\"https://github.com/rack/rack/commit/e179614c4a653283286f5f046428cbb85f21146f\"><code>e179614</code></a> Unbounded read in <code>Rack::Request</code> form parsing can lead to memory exhaustion.</li>\n<li><a href=\"https://github.com/rack/rack/commit/57277b7741581fa827472c5c666f6e6a33abd784\"><code>57277b7</code></a> Improper handling of proxy headers in <code>Rack::Sendfile</code> may allow proxy bypass.</li>\n<li><a href=\"https://github.com/rack/rack/commit/403b74b2441d666845177ce769036e294f663712\"><code>403b74b</code></a> Normalize adivsories links.</li>\n<li>Additional commits viewable in <a href=\"https://github.com/rack/rack/compare/3.0.0...v3.2.5\">compare view</a></li>\n</ul>\n</details>\n<br />\n"
            commit-message: |-
                Bump the bundler_pkgs group across 2 directories with 3 updates

                Bumps the bundler_pkgs group with 2 updates in the /bundler/multi-dir/foo directory: [sinatra](https://github.com/sinatra/sinatra) and [nokogiri](https://github.com/sparklemotion/nokogiri).
                Bumps the bundler_pkgs group with 2 updates in the /bundler/multi-dir/bar directory: [nokogiri](https://github.com/sparklemotion/nokogiri) and [rack](https://github.com/rack/rack).


                Updates `sinatra` from 1.2.2 to 3.1.0
                - [Changelog](https://github.com/sinatra/sinatra/blob/main/CHANGELOG.md)
                - [Commits](https://github.com/sinatra/sinatra/compare/1.2.2...v3.1.0)

                Updates `nokogiri` from 1.11.0 to 1.15.5
                - [Release notes](https://github.com/sparklemotion/nokogiri/releases)
                - [Changelog](https://github.com/sparklemotion/nokogiri/blob/v1.15.5/CHANGELOG.md)
                - [Commits](https://github.com/sparklemotion/nokogiri/compare/v1.11.0...v1.15.5)

                Updates `rack` from 1.6.13 to 2.2.22
                - [Release notes](https://github.com/rack/rack/releases)
                - [Changelog](https://github.com/rack/rack/blob/main/CHANGELOG.md)
                - [Commits](https://github.com/rack/rack/compare/3.0.0...v3.2.5)

                Updates `nokogiri` from 1.11.0 to 1.15.5
                - [Release notes](https://github.com/sparklemotion/nokogiri/releases)
                - [Changelog](https://github.com/sparklemotion/nokogiri/blob/v1.15.5/CHANGELOG.md)
                - [Commits](https://github.com/sparklemotion/nokogiri/compare/v1.11.0...v1.15.5)

                Updates `rack` from 3.0.0 to 3.2.5
                - [Release notes](https://github.com/rack/rack/releases)
                - [Changelog](https://github.com/rack/rack/blob/main/CHANGELOG.md)
                - [Commits](https://github.com/rack/rack/compare/3.0.0...v3.2.5)
            dependency-group:
                name: bundler_pkgs
    - type: mark_as_processed
      expect:
        data:
            base-commit-sha: cd6542cb2b99fce3a1c506446e22e32d79d1b2b7
